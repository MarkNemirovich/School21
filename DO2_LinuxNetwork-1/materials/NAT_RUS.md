## **SNAT** и **DNAT**

**NAT** — аббревиатура для «Network Address Translation», т.е. «преобразование сетевых адресов».  
**NAT** возникает в случае, когда один из IP-адресов меняется в заголовке IP-пакета: либо IP-адрес источника, либо IP-адрес получателя.

<img src="../misc/images/nat.png" alt="network_route" width="500"/>

Параметр |	**SNAT**|	**DNAT**
---------|----------|-----------
Расшифровка аббревиатуры |Source **NAT**|Destination **NAT**
Терминология|**SNAT** меняет частный IP-адрес узла-источника на публичный IP-адрес. Также может изменить порт источника в заголовках TCP/UDP. Обычно **SNAT** используется внутренними пользователями для доступа в Интернет.|Destination **NAT** изменяет адрес назначения в заголовке IP-пакета. Он также может изменить порт назначения в заголовках TCP/UDP. **DNAT** используется, когда нам нужно перенаправить входящие пакеты с публичным адресом/портом назначения на частный IP-адрес/порт внутри нашей сети.
Сценарий использования |Клиент внутри локальной сети и закрытый файерволлом хочет получить доступ к сети Интернет.|Веб-сайт, развернутый внутри некоего дата центра и расположенный за файерволлом, должен быть доступен для пользователей Интернета. 
Изменение адреса|**SNAT** изменяет адрес источника пакетов, передаваемых через устройство **NAT**.|**DNAT** изменяет адрес назначения пакетов, передаваемых через маршрутизатор.
Порядок выполнения|**SNAT** выполняется после принятия решения о маршрутизации.|**DNAT** выполняется до принятия решения о маршрутизации.
Порядок общения|**SNAT** возникает, когда внутренняя защищенная сеть начинает взаимодействовать с внешним миром.|**DNAT** возникает, когда внешняя незащищенная сеть инициирует взаимодействие с внутренней защищенной сетью.
Один/несколько хостов|**SNAT** позволяет нескольким хостам во «внутренней» сети добраться до любого хоста во «внешней» сети.|**DNAT** позволяет любому хосту во «внешней» сети добраться до одного хоста во «внутренней» сети.

